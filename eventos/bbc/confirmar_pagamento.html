<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arena Competidor | Confirma√ß√£o de Pagamento PIX</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
        :root { 
            --cor-primaria: #007bff; 
            --cor-secundaria: #343a40; 
            --cor-destaque: #28a745; 
            --cor-fundo: #f8f9fa; 
            --cor-texto: #495057; 
            --cor-borda: #dee2e6; 
            --cor-whatsapp: #25D366; 
            --cor-alerta: #ffc107; 
            --cor-sucesso: #d4edda;
            --cor-copia: #ff8c00; /* Laranja para o bot√£o Copia e Cola */
        } 
        body { font-family: 'Roboto', sans-serif; background-color: var(--cor-fundo); color: var(--cor-texto); margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        header { width: 100%; text-align: center; padding: 20px 0; background-color: #000; position: fixed; top: 0; left: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
        header img { max-width: 200px; }
        .main-content { margin-top: 100px; width: 90%; max-width: 800px; flex-grow: 1; }
        h1 { color: var(--cor-secundaria); font-weight: 700; font-size: 2.5rem; text-align: center; margin-bottom: 40px; }
        
        .confirmation-container { background-color: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; align-items: center; text-align: center; }
        
        /* Box de Informa√ß√£o */
        .info-box { background-color: #fff3cd; color: #856404; border: 1px solid #ffeeba; padding: 20px; border-radius: 5px; margin-bottom: 30px; width: 100%; box-sizing: border-box; }
        .info-box h2 { color: #856404; margin-top: 0; font-size: 1.8rem; }
        .info-box p { font-size: 1.1rem; }

        /* Campos de Preenchimento */
        .input-fields { width: 100%; margin-bottom: 30px; text-align: left; }
        .input-fields label { display: block; font-weight: bold; margin-bottom: 5px; color: var(--cor-secundaria); }
        .input-fields input, .input-fields select { 
            width: 100%; 
            padding: 10px; 
            margin-bottom: 15px; 
            border: 1px solid var(--cor-borda); 
            border-radius: 4px; 
            box-sizing: border-box; 
        }

        /* Tabela de Resumo */
        .summary-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .summary-table th, .summary-table td { border: 1px solid var(--cor-borda); padding: 12px 15px; text-align: left; }
        .summary-table th { background-color: #f1f1f1; color: var(--cor-secundaria); font-weight: bold; }
        .summary-table .total-row th, .summary-table .total-row td { background-color: var(--cor-primaria); color: #fff; font-size: 1.2rem; font-weight: bold; }
        
        /* PIX e WhatsApp */
        .pix-section { border-top: 2px solid var(--cor-destaque); padding-top: 30px; width: 100%; }
        .pix-section h2 { color: var(--cor-secundaria); font-size: 1.8rem; margin-bottom: 20px; text-align: center; }
        
        #pix-info { background-color: #f1f8ff; border: 1px solid #b3d9ff; padding: 15px; border-radius: 5px; margin-bottom: 20px; text-align: left; font-size: 1rem; width: 100%; box-sizing: border-box; }
        #pix-info strong { color: var(--cor-primaria); display: block; margin-top: 5px; }
        #pix-info .atencao { color: #cc0000; font-weight: bold; margin-top: 10px; display: block; font-size: 0.95rem; }
        
        /* Estilo do Bot√£o PIX Copia e Cola */
        .pix-copia-btn {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            color: #fff;
            background-color: var(--cor-copia);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-decoration: none;
            text-align: center;
            box-sizing: border-box;
            margin-top: 10px;
        }
        .pix-copia-btn:hover { background-color: #e67e22; }

        .whatsapp-btn { 
            display: block; 
            width: 100%; 
            padding: 15px; 
            font-size: 1.2rem; 
            font-weight: bold; 
            color: #fff; 
            background-color: var(--cor-whatsapp); 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            transition: background-color 0.3s ease; 
            text-decoration: none; 
            text-align: center; 
            box-sizing: border-box; 
            margin-top: 20px; 
            pointer-events: none; /* Desabilita at√© que os campos sejam preenchidos */
            opacity: 0.5;
        }
        .whatsapp-btn.enabled {
            pointer-events: auto;
            opacity: 1;
        }
        .whatsapp-btn.enabled:hover { background-color: #1DA851; }

        .qrcode-container { text-align: center; margin-top: 20px; }
        .qrcode-container img { max-width: 200px; border: 1px solid #ccc; padding: 5px; }

        .footer { margin-top: auto; padding: 20px 0; width: 100%; text-align: center; font-size: 0.9rem; color: #6c757d; }

        @media (max-width: 768px) { header { padding: 15px 0; position: static; } header img { max-width: 150px; } .main-content { margin-top: 30px; width: 95%; } h1 { font-size: 2rem; margin-bottom: 20px; } .confirmation-container { padding: 20px; box-shadow: none; } .info-box h2 { font-size: 1.5rem; } .summary-table th, .summary-table td { padding: 10px; font-size: 0.95rem; } .summary-table .total-row th, .summary-table .total-row td { font-size: 1.1rem; } }
    </style>
</head>
<body>

    <header>
        <img src="../../img/arena2.png" alt="Arena Competidor Logo">
    </header>

    <div class="main-content">
        <h1>Confirma√ß√£o de Pagamento PIX</h1>
        <div class="confirmation-container">
            
            <div class="info-box">
                <h2>üëã Quase l√°!</h2>
                <p>Preencha os dados abaixo e efetue o PIX. Depois, clique no bot√£o WhatsApp para enviar o comprovante.</p>
                <p style="font-weight: bold; color: var(--cor-secundaria);">O status da sua inscri√ß√£o ser√° atualizado para <span style="color: var(--cor-alerta);">EM AN√ÅLISE</span> ap√≥s o envio do comprovante.</p>
            </div>
            
            <div class="input-fields">
                 <label for="nome-atleta">Seu Nome Completo:</label>
                 <input type="text" id="nome-atleta" placeholder="Nome Completo do Atleta" required>

                 <label for="numero-ordem">Seu N√∫mero de Ordem (CPF, etc.):</label>
                 <input type="text" id="numero-ordem" placeholder="Ex: CPF ou N√∫mero de Inscri√ß√£o" required>

                 <label for="tipo-inscricao">Selecione o Tipo de Inscri√ß√£o:</label>
                 <select id="tipo-inscricao">
                     <option value="70.00">Apenas Categoria (R$ 70,00)</option>
                     <option value="110.00">Categoria + Absoluto (R$ 110,00)</option>
                 </select>
            </div>
            
            <table class="summary-table">
                <thead>
                    <tr>
                        <th>Descri√ß√£o</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Inscri√ß√£o (Categoria + Peso)</td>
                        <td>R$ 70,00</td>
                    </tr>
                    <tr id="linha-absoluto" style="display:none;">
                        <td>Absoluto</td>
                        <td>R$ 40,00</td>
                    </tr>
                    <tr class="total-row">
                        <th>Total a Pagar</th>
                        <td id="valor-total">R$ 70,00</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="pix-section">
                <h2>Informa√ß√µes para Pagamento PIX</h2>
                
                <div id="pix-info">
                    <p><strong>Evento:</strong> BBC Open de Jiu-Jitsu</p>
                    <p>O pagamento deve ser feito por <b>Pix</b> para a seguinte conta:</p>
                    <p><strong>Chave Pix:</strong> 62.810.446/0001-39 (CNPJ)</p>
                    <p><strong>Identifica√ß√£o:</strong> 62.810.446 VALTER SILVA BRASIL</p>
                    <strong class="atencao">IMPORTANTE:</strong>
                    <p>Ap√≥s realizar o pagamento, clique no bot√£o abaixo para enviar o <b>Comprovante</b> para a organiza√ß√£o via WhatsApp. A confirma√ß√£o do status leva at√© 24h √∫teis.</p>
                </div>
                
                <div class="qrcode-container">
                    <h3>Escaneie o QR Code</h3>
                    <img id="pix-qrcode-img" src="../../img/IMG_5482.jpg" alt="PIX QR Code" style="max-width: 200px;">
                </div>
                
                <div id="pix-copia-e-cola-container">
                    <button class="pix-copia-btn" onclick="copiarPix()">
                        <span id="copia-text">Copiar Chave Pix Copia e Cola</span> üìã
                    </button>
                    </div>
                <a id="whatsapp-link" href="#" target="_blank" class="whatsapp-btn">
                    Preencha os campos para enviar o Comprovante
                </a>

            </div>
            
        </div>
    </div>

    <div class="footer">
        &copy; 2025 Arena Competidor. Todos os direitos reservados.
    </div>

    <script>
        const nomeAtletaInput = document.getElementById('nome-atleta');
        const numeroOrdemInput = document.getElementById('numero-ordem');
        const tipoInscricaoSelect = document.getElementById('tipo-inscricao');
        const linhaAbsoluto = document.getElementById('linha-absoluto');
        const valorTotalElement = document.getElementById('valor-total');
        const whatsappLink = document.getElementById('whatsapp-link');
        const copiaText = document.getElementById('copia-text');

        // C√≥digo PIX Copia e Cola
        const pixCopiaECola = '00020126360014br.gov.bcb.pix0114628104460001395204000053039865802BR592462.810.446 VALTER SILVA 6009Sao Paulo610901227-20062240520daqr27030924361048376304C2FA';

        // --- FUN√á√ÉO PARA ATUALIZAR A TABELA E O LINK DO WHATSAPP ---
        function atualizarDados() {
            const valor = parseFloat(tipoInscricaoSelect.value);
            const nome = nomeAtletaInput.value.trim();
            const ordem = numeroOrdemInput.value.trim();
            const valorFormatado = valor.toFixed(2).replace('.', ',');

            // 1. Atualizar Tabela
            valorTotalElement.innerText = `R$ ${valorFormatado}`;
            if (Math.abs(valor - 110.00) < 0.01) { 
                linhaAbsoluto.style.display = 'table-row';
            } else {
                linhaAbsoluto.style.display = 'none';
            }

            // 2. Atualizar Link do WhatsApp
            if (nome && ordem) {
                // Habilitar o bot√£o
                whatsappLink.classList.add('enabled');
                whatsappLink.innerText = 'Envie o Comprovante pelo WhatsApp';
                
                // Mensagem personalizada para o WhatsApp
                const mensagem = 
                    `Ol√°, segue o comprovante de pagamento no valor de R$ ${valorFormatado} da inscri√ß√£o do atleta ${nome}. ` +
                    `\n\nIdentifica√ß√£o/Ordem: ${ordem}. ` +
                    `\n\nEvento: BBC Open de Jiu-Jitsu.`;
                    
                const baseText = encodeURIComponent(mensagem);
                const numeroOrg = '5584987513740'; // N√∫mero da organiza√ß√£o
                
                whatsappLink.href = `https://api.whatsapp.com/send?phone=${numeroOrg}&text=${baseText}`;
            } else {
                // Desabilitar o bot√£o
                whatsappLink.classList.remove('enabled');
                whatsappLink.href = '#';
                whatsappLink.innerText = 'Preencha os campos para enviar o Comprovante';
            }
        }

        // --- NOVA FUN√á√ÉO PARA COPIAR O C√ìDIGO PIX ---
        function copiarPix() {
            navigator.clipboard.writeText(pixCopiaECola).then(() => {
                copiaText.innerText = 'Copiado! ‚úÖ Cole no seu App do Banco';
                setTimeout(() => {
                    copiaText.innerText = 'Copiar Chave Pix Copia e Cola';
                }, 3000);
            }, (err) => {
                // Mensagem alternativa caso a c√≥pia falhe (ex: navegador antigo)
                alert(`N√£o foi poss√≠vel copiar automaticamente. Copie o c√≥digo abaixo:\n\n${pixCopiaECola}`);
            });
        }

        // --- EVENT LISTENERS ---
        nomeAtletaInput.addEventListener('input', atualizarDados);
        numeroOrdemInput.addEventListener('input', atualizarDados);
        tipoInscricaoSelect.addEventListener('change', atualizarDados);
        
        // Expor a fun√ß√£o copiarPix globalmente para o onclick no HTML
        window.copiarPix = copiarPix;
        
        // Chamada inicial
        document.addEventListener('DOMContentLoaded', atualizarDados);
    </script>
</body>
</html>
