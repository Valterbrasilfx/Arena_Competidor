<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arena Competidor | Confirma√ß√£o de Inscri√ß√£o (Apenas Formul√°rio)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
        :root { 
            --cor-primaria: #007bff; 
            --cor-secundaria: #343a40; 
            --cor-destaque: #28a745; 
            --cor-fundo: #f8f9fa; 
            --cor-texto: #495057; 
            --cor-borda: #dee2e6; 
            --cor-whatsapp: #25D366; 
            --cor-alerta: #ffc107; 
            --cor-sucesso: #d4edda;
        } 
        body { font-family: 'Roboto', sans-serif; background-color: var(--cor-fundo); color: var(--cor-texto); margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        header { width: 100%; text-align: center; padding: 20px 0; background-color: #000; position: fixed; top: 0; left: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
        header img { max-width: 200px; }
        .main-content { margin-top: 100px; width: 90%; max-width: 800px; flex-grow: 1; }
        h1 { color: var(--cor-secundaria); font-weight: 700; font-size: 2.5rem; text-align: center; margin-bottom: 40px; }
        
        .confirmation-container { background-color: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; align-items: center; text-align: center; }
        
        /* Box de Informa√ß√£o */
        .info-box { background-color: #d4edda; /* Cor de sucesso/confirma√ß√£o */ color: #155724; border: 1px solid #c3e6cb; padding: 20px; border-radius: 5px; margin-bottom: 30px; width: 100%; box-sizing: border-box; }
        .info-box h2 { color: #155724; margin-top: 0; font-size: 1.8rem; }
        .info-box p { font-size: 1.1rem; }

        /* Campos de Preenchimento */
        .input-fields { width: 100%; margin-bottom: 30px; text-align: left; }
        .input-fields label { display: block; font-weight: bold; margin-bottom: 5px; color: var(--cor-secundaria); }
        .input-fields input, .input-fields select { 
            width: 100%; 
            padding: 10px; 
            margin-bottom: 15px; 
            border: 1px solid var(--cor-borda); 
            border-radius: 4px; 
            box-sizing: border-box; 
        }

        /* Tabela de Resumo (Mantida, mas simplificada) */
        .summary-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .summary-table th, .summary-table td { border: 1px solid var(--cor-borda); padding: 12px 15px; text-align: left; }
        .summary-table th { background-color: #f1f1f1; color: var(--cor-secundaria); font-weight: bold; }
        .summary-table .total-row th, .summary-table .total-row td { background-color: var(--cor-primaria); color: #fff; font-size: 1.2rem; font-weight: bold; }
        
        /* Bot√£o do WhatsApp (Envio de Comprovante) */
        .whatsapp-btn { 
            display: block; 
            width: 100%; 
            padding: 18px; 
            font-size: 1.3rem; 
            font-weight: bold; 
            color: #fff; 
            background-color: var(--cor-whatsapp); 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: background-color 0.3s ease; 
            text-decoration: none; 
            text-align: center; 
            box-sizing: border-box; 
            margin-top: 25px; 
            pointer-events: none; 
            opacity: 0.5;
        }
        .whatsapp-btn.enabled {
            pointer-events: auto;
            opacity: 1;
        }
        .whatsapp-btn.enabled:hover { background-color: #1DA851; }

        .footer { margin-top: auto; padding: 20px 0; width: 100%; text-align: center; font-size: 0.9rem; color: #6c757d; }

        @media (max-width: 768px) { header { padding: 15px 0; position: static; } header img { max-width: 150px; } .main-content { margin-top: 30px; width: 95%; } h1 { font-size: 2rem; margin-bottom: 20px; } .confirmation-container { padding: 20px; box-shadow: none; } .info-box h2 { font-size: 1.5rem; } .summary-table th, .summary-table td { padding: 10px; font-size: 0.95rem; } .summary-table .total-row th, .summary-table .total-row td { font-size: 1.1rem; } }
    </style>
</head>
<body>

    <header>
        <img src="../../img/arena2.png" alt="Arena Competidor Logo">
    </header>

    <div class="main-content">
       <h1>Confirma√ß√£o de Inscri√ß√£o e Sinaliza√ß√£o de Pagamento</h1>
       <div class="confirmation-container">
           
           <div class="info-box">
               <h2>‚úÖ Inscri√ß√£o Realizada</h2>
               <p>Preencha seus dados abaixo para enviar a sinaliza√ß√£o de pagamento √† organiza√ß√£o do evento via WhatsApp.</p>
               <p style="font-weight: bold;">Este formul√°rio √© apenas para <b>CONFIRMA√á√ÉO</b>.</p>
               <p style="font-weight: bold; color: #cc0000; margin-top: 15px;"><b>IMPORTANTE:</b> Se voc√™ ainda n√£o efetuou o pagamento, sua inscri√ß√£o n√£o ser√° validada.</p>
           </div>
           
           <div class="input-fields">
                <label for="nome-atleta">Seu Nome Completo:</label>
                <input type="text" id="nome-atleta" placeholder="Nome Completo do Atleta" required>

                <label for="numero-ordem">Seu N√∫mero de Ordem (CPF, etc.):</label>
                <input type="text" id="numero-ordem" placeholder="Ex: CPF ou N√∫mero de Inscri√ß√£o" required>

                <label for="tipo-inscricao">Selecione o Tipo de Inscri√ß√£o Paga:</label>
                <select id="tipo-inscricao">
                    <option value="70.00">Categoria (R$ 70,00)</option>
                    <option value="110.00">Categoria + Absoluto (R$ 110,00)</option>
                    <option value="60.00">Categoria (Projeto Social) (R$ 60,00)</option>
                    <option value="100.00">Categoria + Absoluto (Projeto Social) (R$ 100,00)</option>
                </select>

                <label for="metodo-pagamento">M√©todo de Pagamento Utilizado:</label>
                <select id="metodo-pagamento" required>
                    <option value="" disabled selected>Selecione um m√©todo</option>
                    <option value="PIX Direto">PIX Direto (CNPJ)</option>
                    <option value="PIX Mercado Pago">PIX Mercado Pago</option>
                    <option value="Cart√£o de Cr√©dito Mercado Pago">Cart√£o de Cr√©dito MP</option>
                    <option value="Saldo Mercado Pago">Saldo do Mercado Pago</option>
                    <option value="Boleto Mercado Pago">Boleto Mercado Pago</option>
                    <option value="Transferencia/Outro">Transfer√™ncia/Outro</option>
                </select>
           </div>
           
           <table class="summary-table">
               <thead>
                   <tr>
                       <th>Inscri√ß√£o Selecionada</th>
                       <th>Valor Total Sinalizado</th>
                   </tr>
               </thead>
               <tbody>
                   <tr>
                       <td id="linha-categoria-desc" colspan="2">Categoria (R$ 70,00)</td>
                   </tr>
                   <tr class="total-row">
                       <th colspan="1">Valor Informado</th>
                       <td id="valor-total">R$ 70,00</td>
                   </tr>
               </tbody>
           </table>
           
           <a id="whatsapp-link" href="#" target="_blank" class="whatsapp-btn">
               Preencha os campos para enviar a Confirma√ß√£o
           </a>
           
       </div>
    </div>

    <div class="footer">
        &copy; 2025 Arena Competidor. Todos os direitos reservados.
    </div>

    <script>
        const nomeAtletaInput = document.getElementById('nome-atleta');
        const numeroOrdemInput = document.getElementById('numero-ordem');
        const tipoInscricaoSelect = document.getElementById('tipo-inscricao');
        const metodoPagamentoSelect = document.getElementById('metodo-pagamento'); 
        const linhaCategoriaDesc = document.getElementById('linha-categoria-desc');
        const valorTotalElement = document.getElementById('valor-total');
        const whatsappLink = document.getElementById('whatsapp-link');

        // --- FUN√á√ÉO PARA ATUALIZAR A TABELA E O LINK DO WHATSAPP ---
        function atualizarDados() {
            const valorTotal = parseFloat(tipoInscricaoSelect.value);
            const nome = nomeAtletaInput.value.trim();
            const ordem = numeroOrdemInput.value.trim();
            const metodo = metodoPagamentoSelect.value;
            const valorFormatado = valorTotal.toFixed(2).replace('.', ',');
            
            // Atualizar Descri√ß√£o na Tabela
            const inscricaoDesc = tipoInscricaoSelect.options[tipoInscricaoSelect.selectedIndex].text;
            linhaCategoriaDesc.innerText = inscricaoDesc;
            valorTotalElement.innerText = `R$ ${valorFormatado}`;
            
            // 2. Atualizar Link do WhatsApp (Todos os campos obrigat√≥rios)
            if (nome && ordem && metodo) {
                // Habilitar o bot√£o
                whatsappLink.classList.add('enabled');
                whatsappLink.innerText = 'Enviar Confirma√ß√£o de Pagamento pelo WhatsApp';
                
                // Mensagem personalizada para o WhatsApp
                const mensagem = 
                    `‚úÖ SINALIZA√á√ÉO DE PAGAMENTO ENVIADA\n\n` +
                    `‚û°Ô∏è Evento: BBC Open de Jiu-Jitsu\n` +
                    `üë§ Atleta: ${nome}\n` +
                    `üÜî Ordem/Inscri√ß√£o: ${ordem}\n` +
                    `üìù Tipo de Inscri√ß√£o: ${inscricaoDesc}\n` +
                    `üí∞ Valor Informado: R$ ${valorFormatado}\n` +
                    `üí≥ M√©todo Utilizado: ${metodo}\n\n` +
                    `*Por favor, anexe o comprovante de pagamento nesta conversa.`;
                    
                const baseText = encodeURIComponent(mensagem);
                const numeroOrg = '5584987513740'; // Mantenha o n√∫mero da organiza√ß√£o
                
                whatsappLink.href = `https://api.whatsapp.com/send?phone=${numeroOrg}&text=${baseText}`;
            } else {
                // Desabilitar o bot√£o
                whatsappLink.classList.remove('enabled');
                whatsappLink.href = '#';
                whatsappLink.innerText = 'Preencha todos os campos para enviar a Confirma√ß√£o';
            }
        }

        // --- EVENT LISTENERS ---
        nomeAtletaInput.addEventListener('input', atualizarDados);
        numeroOrdemInput.addEventListener('input', atualizarDados);
        tipoInscricaoSelect.addEventListener('change', atualizarDados);
        metodoPagamentoSelect.addEventListener('change', atualizarDados); 
        
        // Chamada inicial
        document.addEventListener('DOMContentLoaded', atualizarDados);
    </script>
</body>
</html>
